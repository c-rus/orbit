<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dynamic Symbol Transformation - The Book of Orbit</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../1_starting/0_starting.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../1_starting/1_installing.html"><strong aria-hidden="true">1.1.</strong> Installing</a></li><li class="chapter-item expanded "><a href="../1_starting/2_upgrading.html"><strong aria-hidden="true">1.2.</strong> Upgrading</a></li><li class="chapter-item expanded "><a href="../2_tutorials/3_first_steps.html"><strong aria-hidden="true">1.3.</strong> First Steps</a></li></ol></li><li class="chapter-item expanded "><a href="../2_tutorials/0_tutorials.html"><strong aria-hidden="true">2.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../2_tutorials/1_first_project.html"><strong aria-hidden="true">2.1.</strong> First Project: Gates</a></li></ol></li><li class="chapter-item expanded "><a href="../3_user/0_user.html"><strong aria-hidden="true">3.</strong> User Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../3_user/1_develop_ip.html"><strong aria-hidden="true">3.1.</strong> Develop IP</a></li><li class="chapter-item expanded "><a href="../3_user/2_use_ip.html"><strong aria-hidden="true">3.2.</strong> Use IP</a></li><li class="chapter-item expanded "><a href="../3_user/3_share_ip.html"><strong aria-hidden="true">3.3.</strong> Share IP</a></li><li class="chapter-item expanded "><a href="../3_user/4_make_vendors.html"><strong aria-hidden="true">3.4.</strong> Use Vendors</a></li><li class="chapter-item expanded "><a href="../3_user/5_creating_plugins.html"><strong aria-hidden="true">3.5.</strong> Create Plugins</a></li></ol></li><li class="chapter-item expanded "><a href="../4_topic/0_topic.html"><strong aria-hidden="true">4.</strong> Topic Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../4_topic/1_ip.html"><strong aria-hidden="true">4.1.</strong> IP</a></li><li class="chapter-item expanded "><a href="../4_topic/2_orbittoml.html"><strong aria-hidden="true">4.2.</strong> Orbit.toml</a></li><li class="chapter-item expanded "><a href="../4_topic/5_orbitlock.html"><strong aria-hidden="true">4.3.</strong> Orbit.lock</a></li><li class="chapter-item expanded "><a href="../4_topic/3_vendors.html"><strong aria-hidden="true">4.4.</strong> Vendors and Registries</a></li><li class="chapter-item expanded "><a href="../4_topic/4_template.html"><strong aria-hidden="true">4.5.</strong> Templates</a></li><li class="chapter-item expanded "><a href="../4_topic/6_blueprint.html"><strong aria-hidden="true">4.6.</strong> Blueprint</a></li><li class="chapter-item expanded "><a href="../4_topic/7_dst.html" class="active"><strong aria-hidden="true">4.7.</strong> Dynamic Symbol Transformation</a></li></ol></li><li class="chapter-item expanded "><a href="../5_reference/0_reference.html"><strong aria-hidden="true">5.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5_reference/1_packages.html"><strong aria-hidden="true">5.1.</strong> Packages</a></li><li class="chapter-item expanded "><a href="../5_reference/2_versions.html"><strong aria-hidden="true">5.2.</strong> Versions</a></li><li class="chapter-item expanded "><a href="../5_reference/3_command_line.html"><strong aria-hidden="true">5.3.</strong> Command line</a></li><li class="chapter-item expanded "><a href="../5_reference/4_environment_variables.html"><strong aria-hidden="true">5.4.</strong> Environment Variables</a></li><li class="chapter-item expanded "><a href="../5_reference/5_configuration.html"><strong aria-hidden="true">5.5.</strong> Configuration</a></li></ol></li><li class="chapter-item expanded "><a href="../6_commands/0_commands.html"><strong aria-hidden="true">6.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../6_commands/1_new.html"><strong aria-hidden="true">6.1.</strong> orbit new</a></li><li class="chapter-item expanded "><a href="../6_commands/5_edit.html"><strong aria-hidden="true">6.2.</strong> orbit edit</a></li><li class="chapter-item expanded "><a href="../6_commands/7_tree.html"><strong aria-hidden="true">6.3.</strong> orbit tree</a></li><li class="chapter-item expanded "><a href="../6_commands/3_plan.html"><strong aria-hidden="true">6.4.</strong> orbit plan</a></li><li class="chapter-item expanded "><a href="../6_commands/4_build.html"><strong aria-hidden="true">6.5.</strong> orbit build</a></li><li class="chapter-item expanded "><a href="../6_commands/2_launch.html"><strong aria-hidden="true">6.6.</strong> orbit launch</a></li><li class="chapter-item expanded "><a href="../6_commands/8_search.html"><strong aria-hidden="true">6.7.</strong> orbit search</a></li><li class="chapter-item expanded "><a href="../6_commands/6_install.html"><strong aria-hidden="true">6.8.</strong> orbit install</a></li><li class="chapter-item expanded "><a href="../6_commands/9_get.html"><strong aria-hidden="true">6.9.</strong> orbit get</a></li><li class="chapter-item expanded "><a href="../6_commands/10_init.html"><strong aria-hidden="true">6.10.</strong> orbit init</a></li><li class="chapter-item expanded "><a href="../6_commands/11_probe.html"><strong aria-hidden="true">6.11.</strong> orbit probe</a></li><li class="chapter-item expanded "><a href="../6_commands/12_env.html"><strong aria-hidden="true">6.12.</strong> orbit env</a></li><li class="chapter-item expanded "><a href="../6_commands/13_config.html"><strong aria-hidden="true">6.13.</strong> orbit config</a></li><li class="chapter-item expanded "><a href="../6_commands/14_uninstall.html"><strong aria-hidden="true">6.14.</strong> orbit uninstall</a></li></ol></li><li class="chapter-item expanded "><a href="../glossary.html"><strong aria-hidden="true">7.</strong> Appendix: Glossary</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The Book of Orbit</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dynamic-symbol-transformation"><a class="header" href="#dynamic-symbol-transformation">Dynamic Symbol Transformation</a></h1>
<blockquote>
<p><strong>Note:</strong> This is an advanced topic and is not necessary to understand in order to use Orbit.</p>
</blockquote>
<p>This technique is related to <em>name mangling</em> in programming languages. <em>Name mangling</em> is a technique used to solve problems regarding the need to resolve unique names for programming entities. You can learn more about name mangling <a href="https://en.wikipedia.org/wiki/Name_mangling">here</a>.</p>
<h2 id="symbols"><a class="header" href="#symbols">Symbols</a></h2>
<p>Within the context of VHDL, let's consider a <em>symbol</em> to be the identifier of a primary design unit. There are four primary design units:</p>
<ul>
<li>entity</li>
<li>package</li>
<li>configuration</li>
<li>context</li>
</ul>
<p>In the following code, the symbol <code>reg</code> corresponds to an entity. This identifier could appear again in a different VHDL file instantiating <code>reg</code>.</p>
<pre><code class="language-vhdl">library ieee;
use ieee.std_logic_1164.all;

entity reg is
    port (
        clk   : in  std_logic;
        rst_n : in  std_logic;
        en    : in  std_logic;
        d     : in  std_logic_vector(7 downto 0);
        q     : out std_logic_vector(7 downto 0)
    );
end entity reg;
</code></pre>
<p>Now imagine there are two projects that use this symbol <code>reg</code>, but the entities are not the same. If your current project required both of those projects as dependencies, then traditionally your tool would not be able to resolve which <code>reg</code> was used where. Now, this problem is solved using <em>dynamic symbol resolution</em>.</p>
<h2 id="walkthrough"><a class="header" href="#walkthrough">Walkthrough</a></h2>
<p>Take this example dependency tree:</p>
<pre><code>Project A 1.0.0
├─ Project_B 1.0.0
│  └─ Project_C 2.0.0
└─ Project_C 3.0.0
</code></pre>
<p>Imagine <code>Project_C</code> has a primary design unit named <code>entity_c</code>, but has notable backward-incompatible differences between version 2.0.0 and version 3.0.0.</p>
<pre><code>entity_a
├─ entity_c (from version 3.0.0)
└─ entity_b
   └─ entity_c (from version 2.0.0)
</code></pre>
<p>Both units are required in order to build the design, but when reading the VHDL files through a backend tool a naming issue will occur and only one can be used. How can we keep both?</p>
<p><em>Dynamic symbol transformation</em> will identify symbol collisions within the current build graph and automatically resolve the conflicts to produce a  cleanbuild tree.</p>
<pre><code>entity_a
├─ entity_c (from version 3.0.0)
└─ entity_b
   └─ entity_c_fbe4720d0 (from version 2.0.0)
</code></pre>
<p>It takes the symbol conflict, and produces a new unique symbol to use to disambiguate primary design units across projects. The original identifier is appended with the first 10 digits of the project version's checksum.</p>
<p>Notice the symbol to be transformed is not the symbol used in the current project, so dynamic symbol transformation has no effect to the user and is kept abstracted away to Orbit. Direct dependencies are never chosen for dynamic symbol transformation.</p>
<h2 id="emphasis"><a class="header" href="#emphasis">Emphasis</a></h2>
<p>Dynamic symbol transformation circumvents a major issue in package management: dependency hell. As projects and their dependencies become more complex, Orbit continues to allow using different verisons of the same package. Conflicts in incompatible versions are avoided within the dependency graph. You can learn more about dependency hell <a href="https://en.wikipedia.org/wiki/Dependency_hell">here</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../4_topic/6_blueprint.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../5_reference/0_reference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../4_topic/6_blueprint.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../5_reference/0_reference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
